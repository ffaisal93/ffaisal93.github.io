<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Meal Planner - Fahim Faisal</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>üçΩÔ∏è AI Meal Planner</h1>
            <p class="subtitle">Generate personalized meal plans powered by AI</p>
        </header>

        <main>
            <div class="input-section">
                <div class="input-group">
                    <label for="apiUrl">API Endpoint:</label>
                    <input 
                        type="text" 
                        id="apiUrl" 
                        placeholder="https://ml-meal-prep-api-production.up.railway.app"
                        value="https://ml-meal-prep-api-production.up.railway.app"
                    >
                    <small>Railway API URL (pre-configured)</small>
                </div>

                <div class="input-group">
                    <label for="queryInput">What kind of meal plan do you need?</label>
                    <textarea 
                        id="queryInput" 
                        rows="3" 
                        placeholder="e.g., Create a 5-day vegetarian meal plan with high protein"
                    ></textarea>
                </div>

                <button id="generateBtn" class="btn-primary" onclick="generateMealPlan()">
                    <span id="btnText">Generate Meal Plan</span>
                    <span id="btnLoader" class="loader" style="display: none;"></span>
                </button>

                <div class="example-queries">
                    <p class="examples-label">Try these examples:</p>
                    <div class="example-chips">
                        <button class="chip" onclick="setExample('Create a 3-day vegetarian meal plan')">
                            3-day vegetarian
                        </button>
                        <button class="chip" onclick="setExample('Generate a 7-day low-carb, dairy-free meal plan with high protein')">
                            Low-carb, high protein
                        </button>
                        <button class="chip" onclick="setExample('5-day Mediterranean diet plan with quick breakfast options')">
                            Mediterranean diet
                        </button>
                        <button class="chip" onclick="setExample('I need a week of budget-friendly meals')">
                            Budget-friendly
                        </button>
                        <button class="chip" onclick="setExample('Create a 1-day vegetarian meal plan, 2 meals')">
                            1 day, 2 meals
                        </button>
                        <button class="chip" onclick="setExample('3-day meal plan with meals under 15 minutes prep time')">
                            Quick meals (15 min)
                        </button>
                        <button class="chip" onclick="setExample('Generate a budget-friendly 5-day meal plan with high protein')">
                            Budget + High protein
                        </button>
                        <button class="chip" onclick="setExample('Create a 2-day meal plan, breakfast and lunch only, under 20 minutes prep')">
                            2 meals, quick prep
                        </button>
                    </div>
                </div>

                <div class="smart-suggestions" id="smartSuggestions" style="display: none;">
                    <p class="suggestions-label">üí° Based on your history:</p>
                    <div class="suggestion-chips" id="suggestionChips"></div>
                </div>
            </div>

            <div class="history-section" id="historySection" style="display: none;">
                <div class="history-header">
                    <h2>üìã My Meal Plans</h2>
                    <button class="btn-secondary" onclick="toggleHistory()" id="toggleHistoryBtn">Hide History</button>
                </div>
                <div id="historyContent" class="history-content"></div>
            </div>

            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <div id="results" class="results-section" style="display: none;">
                <div class="summary-card">
                    <h2>üìä Meal Plan Summary</h2>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <span class="summary-label">Duration</span>
                            <span class="summary-value" id="summaryDuration">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total Meals</span>
                            <span class="summary-value" id="summaryMeals">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Estimated Cost</span>
                            <span class="summary-value" id="summaryCost">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Avg Prep Time</span>
                            <span class="summary-value" id="summaryTime">-</span>
                        </div>
                    </div>
                    <div class="compliance-tags" id="complianceTags"></div>
                </div>

                <div id="mealPlanDays" class="meal-plan-days"></div>
            </div>
        </main>

        <footer>
            <p>Powered by OpenAI GPT & FastAPI</p>
            <p class="footer-links">
                <a href="#" onclick="toggleHistory(); return false;" id="viewHistoryLink">View My Meal Plans</a> |
                <a href="#" onclick="openApiDocs(); return false;">API Documentation</a> |
                <a href="https://github.com/ffaisal93/ml_meal_prep" target="_blank">GitHub</a> |
                <a href="https://fahimfaisal.info">Back to Home</a>
            </p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>

